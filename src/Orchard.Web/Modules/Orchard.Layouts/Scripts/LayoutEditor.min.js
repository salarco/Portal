angular.module("LayoutEditor",["ngSanitize","ngResource","ui.sortable"]);angular.module("LayoutEditor").factory("baseUrl",function(){return{get:function(){return $("[data-base-url]").data("base-url")}}});angular.module("LayoutEditor").factory("elementConfigurator",function(){return{addElementFunctions:function(n){n.delete=function(t){n.element.delete();t.stopPropagation()};n.moveUp=function(t){n.element.moveUp();t.stopPropagation()};n.moveDown=function(t){n.element.moveDown();t.stopPropagation()}},addContainerFunctions:function(n){n.invokeAddOperation=function(n){n.invoke()};n.invokeAddContentElement=function(n){console.log(n)};n.sortableOptions={cursor:"move",delay:150,distance:5};n.setIsActive=function(n){n.setIsActive(!0)};n.clearIsActive=function(n){n.setIsActive(!1)};n.setIsFocused=function(n,t){n.setIsFocused();t.stopPropagation()};n.getClasses=function(n){var t=["layout-element"];return!n.children||t.push("layout-container"),t.push("layout-"+n.type.toLowerCase()),n.type=="Row"&&t.push("row"),n.type=="Column"&&(t.push("col-xs-"+n.width),t.push("col-xs-offset-"+n.offset)),n.getIsActive()&&t.push("layout-element-active"),n.getIsFocused()&&t.push("layout-element-focused"),n.getIsSelected()&&t.push("layout-element-selected"),t}}}});angular.module("LayoutEditor").directive("orcLayoutCanvas",function(n,t,i){return{restrict:"E",scope:{},controller:function($scope,$element,$attrs){$scope.element=$attrs.model?eval($attrs.model):new LayoutEditor.Canvas(null,null,null,null,null,[]);t.addElementFunctions($scope,$element);t.addContainerFunctions($scope,$element);$scope.sortableOptions.axis="y"},templateUrl:i.get()+"/Templates/orc-layout-canvas.html",replace:!0,link:function(n){$(window).click(function(){n.$apply(function(){n.element.canvas.activeElement=null;n.element.canvas.focusedElement=null})})}}});angular.module("LayoutEditor").directive("orcLayoutChild",function(n){return{restrict:"E",scope:{element:"="},link:function(t,i){var r="<orc-layout-"+t.element.type.toLowerCase()+" element='element' />",u=n(r)(t);$(i).replaceWith(u)}}});angular.module("LayoutEditor").directive("orcLayoutColumn",function(n,t,i){return{restrict:"E",scope:{element:"="},controller:function(n,i){t.addElementFunctions(n,i);t.addContainerFunctions(n,i);n.sortableOptions.axis="y";n.split=function(t){n.element.split();t.stopPropagation()};n.decreaseOffset=function(t){n.element.decreaseOffset();t.stopPropagation()};n.increaseOffset=function(t){n.element.increaseOffset();t.stopPropagation()}},templateUrl:i.get()+"/Templates/orc-layout-column.html",replace:!0}});angular.module("LayoutEditor").directive("orcLayoutContent",function(n,t){return{restrict:"E",scope:{element:"="},controller:function(t,i){n.addElementFunctions(t,i);t.edit=function(){console.log("Edit "+t.element.contentType)}},templateUrl:t.get()+"/Templates/orc-layout-content.html",replace:!0}});angular.module("LayoutEditor").directive("orcLayoutGrid",function(n,t,i){return{restrict:"E",scope:{element:"="},controller:function(n,i){t.addElementFunctions(n,i);t.addContainerFunctions(n,i);n.sortableOptions.axis="y"},templateUrl:i.get()+"/Templates/orc-layout-grid.html",replace:!0}});angular.module("LayoutEditor").directive("orcLayoutPopup",function(){return{restrict:"A",link:function(n,t,i){var r=$(t),u=r.closest(".layout-popup-trigger"),f=r.closest(".layout-element");u.click(function(n){r.toggle();r.is(":visible")&&r.position({my:i.orcLayoutPopupMy||"left top",at:i.orcLayoutPopupAt||"left bottom+4px",of:u});n.stopPropagation()});r.click(function(n){n.stopPropagation()});f.click(function(){r.hide()})}}});angular.module("LayoutEditor").directive("orcLayoutRow",function(n,t,i){return{restrict:"E",scope:{element:"="},controller:function(n,i){t.addElementFunctions(n,i);t.addContainerFunctions(n,i);n.sortableOptions.axis="x";n.sortableOptions["ui-floating"]=!0;n.addColumn=function(t){n.element.addColumn();t.stopPropagation()}},templateUrl:i.get()+"/Templates/orc-layout-row.html",replace:!0}});
/*
//# sourceMappingURL=LayoutEditor.min.js.map
*/